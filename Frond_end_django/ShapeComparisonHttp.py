def send_image(image_encoded):
	import requests
	import json
	import socket
	# Hier uitzoeken wat het IP van de Back-end service zal zijn in het Docker netwerk
	# Normaal kan je dat statisch krijgen in het Netwerk
	# De gekozen port moet ook in de Back-end en Front-end (client side) consistent zijn
	url = f'http://{socket.gethostbyname(socket.gethostname())}:30303/'

	# Voor de test, laden en encoderen van de input image
	# Het encoderen gebeurt op de client side

	jsonRequest = {
		'type': 'shape',
		'input': image_encoded,
		'modelContour': [[[99, 26]], [[98, 27]], [[94, 27]], [[93, 28]], [[91, 28]], [[90, 29]], [[90, 35]], [[91, 36]], [[91, 38]], [[92, 39]], [[92, 47]], [[91, 48]], [[91, 50]], [[90, 51]], [[90, 52]], [[87, 55]], [[86, 55]], [[79, 62]], [[79, 63]], [[76, 66]], [[76, 67]], [[74, 69]], [[74, 70]], [[72, 72]], [[72, 73]], [[71, 74]], [[71, 75]], [[70, 76]], [[70, 78]], [[69, 79]], [[69, 80]], [[68, 81]], [[68, 83]], [[67, 84]], [[67, 86]], [[66, 87]], [[66, 90]], [[65, 91]], [[65, 95]], [[64, 96]], [[64, 110]], [[65, 111]], [[65, 123]], [[66, 124]], [[66, 136]], [[67, 137]], [[67, 147]], [[68, 148]], [[68, 159]], [[69, 160]], [[69, 171]], [[70, 172]], [[70, 183]], [[71, 184]], [[71, 195]], [[72, 196]], [[72, 208]], [[73, 209]], [[73, 220]], [[74, 221]], [[74, 235]], [[75, 236]], [[75, 249]], [[76, 250]], [[76, 262]], [[77, 263]], [[77, 276]], [[78, 277]], [[78, 290]], [[79, 291]], [[79, 302]], [[80, 303]], [[80, 316]], [[81, 317]], [[81, 319]], [[82, 320]], [[82, 321]], [[88, 327]], [[89, 327]], [[91, 329]], [[92, 329]], [[93, 330]], [[94, 330]], [[95, 331]], [[96, 331]], [[97, 332]], [[98, 332]], [[99, 333]], [[101, 333]], [[102, 334]], [[105, 334]], [[106, 335]], [[109, 335]], [[110, 336]], [[117, 336]], [[118, 337]], [[124, 337]], [[125, 336]], [[133, 336]], [[134, 335]], [[138, 335]], [[139, 334]], [[142, 334]], [[143, 333]], [[144, 333]], [[145, 332]], [[147, 332]], [[148, 331]], [[150, 331]], [[151, 330]], [[152, 330]], [[153, 329]], [[154, 329]], [[156, 327]], [[157, 327]], [[159, 325]], [[160, 325]], [[162, 323]], [[163, 323]], [[163, 322]], [[164, 321]], [[164, 320]], [[165, 319]], [[165, 317]], [[166, 316]], [[166, 292]], [[167, 291]], [[167, 289]], [[166, 288]], [[166, 284]], [[167, 283]], [[167, 231]], [[168, 230]], [[168, 194]], [[169, 193]], [[169, 158]], [[170, 157]], [[170, 110]], [[171, 109]], [[171, 101]], [[170, 100]], [[170, 95]], [[169, 94]], [[169, 90]], [[168, 89]], [[168, 87]], [[167, 86]], [[167, 84]], [[166, 83]], [[166, 81]], [[165, 80]], [[165, 79]], [[164, 78]], [[164, 77]], [[163, 76]], [[163, 75]], [[162, 74]], [[162, 73]], [[160, 71]], [[160, 70]], [[158, 68]], [[158, 67]], [[156, 65]], [[156, 64]], [[150, 58]], [[150, 57]], [[149, 56]], [[148, 56]], [[146, 54]], [[145, 54]], [[142, 51]], [[142, 50]], [[140, 48]], [[140, 46]], [[139, 45]], [[139, 37]], [[140, 36]], [[140, 28]], [[139, 27]], [[137, 27]], [[136, 26]]],
		'cutoff': 0.05,
		'imageOperations': [
			{
				'operation': 'scale',
				'arg': {'scale': 0.1}
			},
			{
				'operation': 'blur',
				'arg': {}
			},
			{
				'operation': 'edges',
				'arg': {'lower': 20, 'upper': 300}
			},
			{
				'operation': 'grayscale',
				'arg': {}
			},
			{
				'operation': 'threshold',
				'arg': {'T': 128, 'fill': 255}
			},
		],
	}

	jsonRequest = json.dumps(jsonRequest)  # Encoden naar json-string
	response = requests.post(url, data=jsonRequest)  # POST Request naar server met alle json data
	print(json.loads(response.text))  # Print de response text (json string)
	return response